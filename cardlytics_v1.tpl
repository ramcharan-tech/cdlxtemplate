___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "type": "TAG",
  "id": "cvt_temp_public_id",
  "version": 1,
  "securityGroups": [],
  "displayName": "cardlytics_v1",
  "brand": {
    "id": "brand_dummy",
    "displayName": "",
    "thumbnail": "data:image/png;base64,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\u003d"
  },
  "description": "cdlx tracker",
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "help": "This is the ID of the tracker instance. It is used to distinguish the configuration you have set for one tracker instance from all the other possible tracker instances on the page.",
    "alwaysInSummary": true,
    "valueValidators": [
      {
        "type": "NON_EMPTY"
      }
    ],
    "displayName": "Tracker ID",
    "simpleValueType": true,
    "name": "trackerID",
    "type": "TEXT",
    "valueHint": "e.g. cardlytics tracker unique ID"
  },
  {
    "selectItems": [
      {
        "value": "cartTracking",
        "displayValue": "AddtoCart"
      },
      {
        "value": "enhancedEcommerce",
        "displayValue": "Enhanced Ecommerce"
      },
      {
        "value": "linkTracking",
        "displayValue": "Link Click Tracking"
      },
      {
        "displayValue": "Page View",
        "value": "trackPageView"
      },
      {
        "displayValue": "Click Event",
        "value": "trackStructEvent"
      }
    ],
    "displayName": "Tag Type",
    "simpleValueType": true,
    "name": "eventType",
    "type": "SELECT",
    "defaultValue": "trackPageView",
    "help": "Choose the type of event you want to send ."
  },
  {
    "type": "GROUP",
    "name": "paramConfig",
    "displayName": "Parameter Configuration",
    "groupStyle": "ZIPPY_CLOSED",
    "subParams": [
      {
        "type": "SIMPLE_TABLE",
        "name": "structEventParams",
        "displayName": "",
        "simpleTableColumns": [
          {
            "defaultValue": "select",
            "displayName": "Parameter Name",
            "name": "name",
            "type": "SELECT",
            "selectItems": [
              {
                "value": "select",
                "displayValue": "select"
              },
              {
                "value": "category",
                "displayValue": "category (required)"
              },
              {
                "value": "action",
                "displayValue": "action (required)"
              },
              {
                "value": "label",
                "displayValue": "label"
              }
            ],
            "isUnique": true
          },
          {
            "defaultValue": "",
            "displayName": "Parameter value",
            "name": "value",
            "type": "TEXT"
          }
        ],
        "enablingConditions": [
          {
            "paramName": "eventType",
            "paramValue": "trackStructEvent",
            "type": "EQUALS"
          }
        ]
      },
      {
        "type": "SIMPLE_TABLE",
        "name": "cartTrackingParams",
        "displayName": "Parameters",
        "simpleTableColumns": [
          {
            "defaultValue": "select",
            "displayName": "Parameter name",
            "name": "name",
            "type": "SELECT",
            "selectItems": [
              {
                "value": "select",
                "displayValue": "select"
              },
              {
                "value": "brand",
                "displayValue": "brand"
              },
              {
                "value": "price",
                "displayValue": "price"
              },
              {
                "value": "Currency",
                "displayValue": "Currency"
              },
              {
                "value": "Quantity",
                "displayValue": "Quantity"
              }
            ]
          },
          {
            "defaultValue": "",
            "displayName": "Parameter value",
            "name": "value",
            "type": "TEXT"
          }
        ],
        "enablingConditions": [
          {
            "paramName": "eventType",
            "paramValue": "cartTracking",
            "type": "EQUALS"
          }
        ]
      },
      {
        "type": "SIMPLE_TABLE",
        "name": "pageViewParams",
        "displayName": "",
        "simpleTableColumns": [
          {
            "defaultValue": "title",
            "displayName": "Parameter name",
            "name": "name",
            "type": "SELECT",
            "selectItems": [
              {
                "value": "title",
                "displayValue": "title"
              },
              {
                "value": "location",
                "displayValue": "location"
              },
              {
                "value": "page",
                "displayValue": "page"
              }
            ],
            "isUnique": true
          },
          {
            "defaultValue": "",
            "displayName": "Parameter value",
            "name": "value",
            "type": "TEXT"
          }
        ],
        "enablingConditions": [
          {
            "paramName": "eventType",
            "paramValue": "trackPageView",
            "type": "EQUALS"
          }
        ]
      }
    ]
  },
  {
    "type": "GROUP",
    "name": "enhancedEcommerceConfig",
    "displayName": "Enhanced Ecommerce Configuration",
    "groupStyle": "ZIPPY_OPEN",
    "subParams": [
      {
        "type": "CHECKBOX",
        "name": "enhancedEcommerceUseDataLayer",
        "checkboxText": "Use Data Layer",
        "simpleValueType": true,
        "defaultValue": true,
        "help": "Check this to use a \u003ca href\u003d\"https://developers.google.com/tag-manager/enhanced-ecommerce\"\u003eproperly formatted Google Analytics dataLayer object\u003c/a\u003e for populating the Enhanced Ecommerce data. Uncheck this to reference a Google Tag Manager variable which returns the properly formatted object instead."
      },
      {
        "type": "SELECT",
        "name": "enhancedEcommerceVariable",
        "macrosInSelect": true,
        "selectItems": [],
        "simpleValueType": true,
        "displayName": "Choose Variable",
        "enablingConditions": [
          {
            "paramName": "enhancedEcommerceUseDataLayer",
            "paramValue": false,
            "type": "EQUALS"
          }
        ]
      }
    ],
    "enablingConditions": [
      {
        "paramName": "eventType",
        "paramValue": "enhancedEcommerce",
        "type": "EQUALS"
      }
    ]
  },
  {
    "type": "SIMPLE_TABLE",
    "name": "linkTrackingParameters",
    "simpleTableColumns": [
      {
        "defaultValue": "href",
        "displayName": "Parameter Name",
        "name": "name",
        "type": "SELECT",
        "isUnique": true,
        "selectItems": [
          {
            "value": "href",
            "displayValue": "href"
          },
          {
            "value": "text",
            "displayValue": "text"
          },
          {
            "value": "id",
            "displayValue": "id"
          },
          {
            "value": "view",
            "displayValue": "view"
          }
        ],
        "valueValidators": []
      },
      {
        "defaultValue": "",
        "displayName": "Parameter Value",
        "name": "value",
        "type": "TEXT"
      }
    ],
    "newRowButtonText": "Add Parameter",
    "enablingConditions": [
      {
        "paramName": "eventType",
        "paramValue": "linkTracking",
        "type": "EQUALS"
      }
    ]
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

const injectScript = require('injectScript');
const copyFromWindow = require('copyFromWindow');
const setInWindow = require('setInWindow');
const callInWindow = require('callInWindow');
const makeTableMap = require('makeTableMap');
const getType = require('getType');
const log = require('logToConsole');
const _cdlx = copyFromWindow('Cdlx') || {};
const _cdlxQueue = copyFromWindow('Cdlx.q') || [];
const app_key=data.trackerID;
const window_appkey=copyFromWindow('Cdlx.app_key');
const track = data.eventType;
const copyFromDataLayer = require('copyFromDataLayer');
const baseUrl = 'https://mp-analytics-qa.cardlytics.com/js/index.js';
const dataLayer = copyFromWindow('dataLayer') || [];
//Need to Set the url
const fail = msg => {
    log('[ERROR GTM / Cardlytics Analytics] ' + msg);
    return data.gtmOnFailure();
};
let paramObj;
if (data.structEventParams) {
    paramObj = data.structEventParams;
} else if (data.cartTrackingParams)
{
    paramObj = data.cartTrackingParams;
}
else if (data.pageViewParams)
{
    paramObj = data.pageViewParams;
}
setInWindow('Cdlx',_cdlx);
setInWindow('Cdlx.q', _cdlxQueue);



switch (track) {
    case 'trackPageView':
        callInWindow('Cdlx.q.push',['push_events',{
key:'pageview',
          segmentation:{
title: paramObj[0].value,
location: paramObj[1].value,
page: paramObj[2].value
          }
}]);
        log('tracked the page view from gtm-cardlytics template');
        break;
    case 'trackStructEvent':
        //const ecommerce = datalayer('ecommerce'); //enhanced ecommerce
        callInWindow('Cdlx.q.push', ['push_events', {
            key: "buttonClick",
            segmentation: {
                category: paramObj[0].value,
                action: paramObj[1].value,
                label: paramObj[2].value
            }
        }]);
        //_cdlxmain.push(['trackEvent', 'buttonclick', 'cdlx']);
        break;
    case 'cartTracking':
    log('addtocart about to recorded from gtm');
        callInWindow('Cdlx.q.push', ['push_events', {
            key: "addToCart",
            segmentation: {
                brand: paramObj[0].value,
                price: paramObj[1].value,
                Currency: paramObj[2].value,
                Quantity: paramObj[3].value
            }
        }]);
        break;

    case 'enhancedEcommerce':
        let ecom;
        // Use dataLayer if available, otherwise use variable
    log('use1 '+data.enhancedEcommerceUseDataLayer);
        if (data.enhancedEcommerceUseDataLayer==true) {
            ecom = dataLayer[dataLayer.length-1];
        } else {
            ecom = getType(data.enhancedEcommerceVariable) === 'object' ? data.enhancedEcommerceVariable.ecommerce : null;
        }
    callInWindow('Cdlx.q.push', ['push_events',{
            key: "ec:action",
      segmentation:ecom}]);
        break;
    case 'linkTracking':
        const params = data.linkTrackingParameters;
        callInWindow('Cdlx.q.push', ['push_events', {
            key: 'trackLinkClick',
             segmentation: {
                href: params[0].value,
                text: params[1].value,
                id: params[2].value,
                view: params[3].value
            }
        }]);
        break;

}
const onSuccess =() =>
{
  log("this is apkey " +window_appkey);
  if(!window_appkey)
  {
    setInWindow('Cdlx.app_key', app_key);
    setInWindow('Cdlx.url',"http://localhost:5000");
    setInWindow('Cdlx.debug', true);
    setInWindow('Cdlx.force_post', true);
    //callInWindow('Cdlx.q.push', ['track_sessions']);
    callInWindow('Cdlx.init');
    log('cdlx.init called');
  }
};
injectScript(baseUrl, onSuccess, data.gtmOnFailure(), baseUrl);


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "logging",
        "versionId": "1"
      },
      "param": [
        {
          "key": "environments",
          "value": {
            "type": 1,
            "string": "debug"
          }
        }
      ]
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "access_globals",
        "versionId": "1"
      },
      "param": [
        {
          "key": "keys",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "Cdlx"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "Cdlx.q"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "read_data_layer"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "Cdlx.q.push"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "Cdlx.app_key"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "Cdlx.debug"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "Cdlx.force_post"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "Cdlx.init"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "Cdlx.url"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "dataLayer"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "inject_script",
        "versionId": "1"
      },
      "param": [
        {
          "key": "urls",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "https://mp-analytics-qa.cardlytics.com/js/index.js"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "read_data_layer",
        "versionId": "1"
      },
      "param": [
        {
          "key": "keyPatterns",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "ecommerce.*"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___TESTS___

scenarios:
- name: test 1
  code: |
    const mockData = {
      // Mocked field values
    };

    // Call runCode to run the template's code.
    runCode(mockData);
setup: ''


___NOTES___

Created on 9/11/2020, 6:00:27 PM


